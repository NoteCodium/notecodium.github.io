---
title: 1
---

{% raw %}
![image.png](/DTRANSFER/notebook_images/DTRANSFER_ADCLCHJC_1Algorithms_70Mathematics_0Geometry_1__att_0001.png)

```python
class Solution{
    public:
        void standarise(int &xd, int &yd){
            if(xd==0) yd=1;
            if(yd==0) xd=1;
            if(xd<0){
                xd*=-1;
                yd*=-1;
            }
            //xd always positive
        }

    int maxPoints(vector<vector<int>>& p) {
        int n=p.size();
        if(n<=2) return n;
        int ans=1;//we are not picking any fixed line
        
        map<vector<int>, int> m;
        for(int i=0;i<n;i++){
            //fixing first coordinate one by one
            int concurrent_points=0,same_slope=0;
            for(int j=i+1;j<n;j++){
                //doubt
                if(p[i][0]==p[j][0] and p[i][1]==p[j][1]) concurrent_points++;
                else{
                    int xd=p[j][0]-p[i][0];
                    int yd=p[j][1]-p[i][1];
                    int g=gcd(xd,yd);
                    xd/=g;
                    yd/=g;
                    standarise(xd,yd);
                    m[{xd,yd}]++;
                    same_slope=max(same_slope,m[{xd,yd}]);
                } 
            }
            ans=max(ans,concurrent_points+same_slope+1);
            m.clear();
        }
        return ans;
        
    }
};
```
{% endraw %}
