---
title: 1
---

{% raw %}
https://www.geeksforgeeks.org/problems/m-coloring-problem-1587115620/1

Given an undirected graph and an integer M. The task is to determine if the graph can be colored with at most M colors such that no two adjacent vertices of the graph are colored with the same color.

    bool graphColoring(int v, vector<vector<int>> &edges, int m) {
        // code here
        
    }

```python
bool isSafe(int node,set<vector<int>> &se ,vector<int> &color, int colorToBeAssigned, int noOfNodes) {
    for(int neiNode=0;neiNode<noOfNodes;neiNode++){
        if(neiNode!=node && se.count({node, neiNode}) && color[neiNode]==colorToBeAssigned){
            return false;
        }
    }
    return true;
}

bool solve(int node, int noOfNodes, set<vector<int>> &se, vector<int> &color, int noOfColors) {
    if (node >= noOfNodes) return 1;
    for (int i = 1; i <= noOfColors; i++) {
        if (isSafe(node, se, color, i, noOfNodes)) {
            color[node] = i;
            if (solve(node + 1, noOfNodes, se, color, noOfColors)){
                return true;
            } 
            color[node] = 0;
        }
    }
    return false;
}

bool graphColoring(int noOfNodes, vector<vector<int>> &edges, int noOfColors) {
    vector<int> color(noOfNodes, 0);
    set<vector<int>> se;
    for(auto edge: edges) {
        se.insert({edge[0], edge[1]});
        se.insert({edge[1], edge[0]});
    }
    return solve(0, noOfNodes, se, color, noOfColors);
}
```

for 2 colors, bipartite graph, and the approach of problem changes   
odd length cycle graph never bipartite
Linear graph is always bipartite

samsung OA

```python
bool dfs(int node,int col, vector<int> &color, vector<vector<int>>& al){
    color[node]=col;
    for(int nei: al[node]){
        if(color[nei]==-1){
            if(!dfs(nei,!col,color,al)){
                return 0;
            } 
        }
        else if(color[nei]==col){
            return 0;
        }
    }
    return 1;
}


bool isBipartite(vector<vector<int>>& al) {
    int n=al.size();
    vector<int> color(n,-1);
    for(int i=0;i<n;i++){
        if(color[i]==-1){
            //this strategy so even if there are multiple components, 
            //we can still check if the graph is bipartite or not
            if(!dfs(i,0,color,al)){
                return 0;
            } 
        }
    }
    return 1;
}
```
{% endraw %}
