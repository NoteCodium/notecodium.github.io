---
title: 5
---

{% raw %}
https://codeforces.com/problemset/problem/1622/C

![image.png](/DTRANSFER/notebook_images/DTRANSFER_ADCLCHJC_1Algorithms_60BinarySearch_cf_5__att_0001.png)

we see we use bs when the actual implementation of finding the answer is not elegant and we can work in reverse, assume an answer (m) and check it is making predicate function true or not.

![image.png](/DTRANSFER/notebook_images/DTRANSFER_ADCLCHJC_1Algorithms_60BinarySearch_cf_5__att_0002.png)

![image.png](/DTRANSFER/notebook_images/DTRANSFER_ADCLCHJC_1Algorithms_60BinarySearch_cf_5__att_0003.png)

![image.png](/DTRANSFER/notebook_images/DTRANSFER_ADCLCHJC_1Algorithms_60BinarySearch_cf_5__att_0004.png)

```python
bool f(ll totalNoOfOperations, vl &v, ll sum, ll k, ll n){
    if(sum-totalNoOfOperations<=k){
        return 1;
    }

    for(int i=n-1,j=1;i>=1 and j<=n;i--,j++){
        sum-=v[i];
        //the contribution of last element is going to be 
        //removed because it is going to be changed with 
        if(totalNoOfOperations-j<0){
            return 0;
        }
        ll operationsLeft=totalNoOfOperations-j;
        ll tmpSum=sum-v[0]+(v[0]-operationsLeft)*(j+1);  
        if(tmpSum<=k){
            return 1;
        }
    }
    return 0;

}


void solve(){
    ll n,k;
    inp(n,k);
    vinp(v,n);
    sort(it(v));
    ll sum=accumulate(it(v),0ll);
    ll l=0,h=inf,ans=-1;
    while(l<=h){
        ll m=l +(h-l)/2;
        if(f(m, v, sum, k, n)){
            ans=m;
            h=m-1;
        }
        else{
            l=m+1;
        }
    }
    pri(ans);

}
```
{% endraw %}
