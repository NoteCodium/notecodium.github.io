---
title: 1
---

{% raw %}
https://codeforces.com/problemset/problem/580/B

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_96TwoPointers_50TLE_1__att_0001.png)

```python
void solve(){
    ll n,d;
    inp(n,d);
    // vl money(n),ff(n);
    vvl v(n,vl(2));
    for(int i=0;i<n;i++){
        cin>>v[i][0]>>v[i][1];
    }
    sort(it(v));
    ll l=0,h=1;
    ll ans=0;
    ll totFf=v[0][1];
    while(h<n){
        totFf+=v[h][1];
        while(v[h][0]-v[l][0]>=d and l<h){
            totFf-=v[l][1];
            l++; 
        }
        if(v[h][0]-v[l][0]<d and l<=h){
            ans=max(ans,totFf);
        }
        h++;
    }
    ll maxFf=0;
    for(auto & vv: v){
      maxFf=max(maxFf,vv[1]);
    }
    print(max(ans,maxFf));

    //ff maximise
    //money bw two<=d
    //two factors
}
```
{% endraw %}
