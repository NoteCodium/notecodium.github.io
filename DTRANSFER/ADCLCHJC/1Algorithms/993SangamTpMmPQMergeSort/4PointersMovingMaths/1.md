---
title: 1
---

{% raw %}
![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0001.png)    
https://leetcode.com/problems/ugly-number-ii/description/

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0002.png)

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0003.png)

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0004.png)

```python
int nthUglyNumber(int n) {
    vector<int> v(n);
    v[0]=1;
    int p2=0,p3=0,p5=0;
    for(int i=1;i<n;i++){
        int val=min({v[p2]*2,v[p3]*3,v[p5]*5});
        v[i]=val;
        //THIS IS HOW WE ARE ENSURING DUPLICATES ARE NOT THERE
        if(val==v[p2]*2) p2++;
        if(val==v[p3]*3) p3++;
        if(val==v[p5]*5) p5++;
    }
    return v[n-1];   
}
```

TC is 3n

https://leetcode.com/problems/super-ugly-number/description/

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0005.png)

suppose at time t, the answer vector is looking like for 2,3 and 5        
![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0006.png)

if an element is there, in future its 2, 3 and 5 multiplier will be there

```python
int nthSuperUglyNumber(int n, vector<int>& primes) {
    vector<int> ans;
    ans.push_back(1);
    //the first is the prime number, the second is the index
    auto cmp=[&](vector<long> &a, vector<long> &b){
        return a[0]*ans[a[1]]>b[0]*ans[b[1]];
    };
    vector<vector<long>> tmp;
    for(int i=0;i<primes.size();i++){
        tmp.push_back({primes[i],0});
    }
    priority_queue<vector<long>,vector<vector<long>>,decltype(cmp)> pq(cmp,tmp);
```

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0007.png)

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0008.png)

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0009.png)

```python
while(ans.size()<n){
    auto vv=pq.top();
    pq.pop();
    if(vv[0]*ans[vv[1]]>ans.back()){
        ans.push_back(vv[0]*ans[vv[1]]);
    } 
    pq.push({vv[0],vv[1]+1});
}
int ret=ans.back();
ans.clear();
return ret;
}
```

```python
int nthSuperUglyNumber(int n, vector<int>& primes) {
    vector<int> ans;
    ans.push_back(1);
    //the first is the prime number, the second is the index
    auto cmp=[&](vector<long> &a, vector<long> &b){
        return a[0]*ans[a[1]]>b[0]*ans[b[1]];
    };
    vector<vector<long>> tmp;
    for(int i=0;i<primes.size();i++){
        tmp.push_back({primes[i],0});
    }
    priority_queue<vector<long>,vector<vector<long>>,decltype(cmp)> pq(cmp,tmp);
    while(ans.size()<n){
        auto vv=pq.top();
        pq.pop();
        if(vv[0]*ans[vv[1]]>ans.back()){
            ans.push_back(vv[0]*ans[vv[1]]);
        } 
        pq.push({vv[0],vv[1]+1});
    }
    int ret=ans.back();
    ans.clear();
    return ret;
}
```

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0010.png)

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_993SangamTpMmPQMergeSort_4PointersMovingMaths_1__att_0011.png)

https://leetcode.com/problems/nth-magical-number/
{% endraw %}
