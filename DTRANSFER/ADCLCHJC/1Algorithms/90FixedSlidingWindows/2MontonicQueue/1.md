---
title: 1
---

{% raw %}
# For every sliding window of ws k, find maximum

https://leetcode.com/problems/sliding-window-maximum/

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_90FixedSlidingWindows_2MontonicQueue_1__att_0001.png)

```python
//insertBack only insert the usefull elements
void insertBack(deque<int> &d, int idx,  vector<int>& v){
    while(!d.empty() and v[idx]>=v[d.back()]) d.pop_back();
    d.push_back(idx);
}

//monotonic deceasing Queue, which give maximum at the front

vector<int> maxSlidingWindow(vector<int>& v, int k) {
    vector<int> ans;
    deque<int> d;
    int n=v.size();
    for(int i=0;i<=k-2;i++) insertBack(d,i,v);
    for(int i=k-1;i<n;i++){
        insertBack(d,i,v);
        ans.push_back(v[d.front()]);
        if(d.front()==i-k+1) d.pop_front();
    }
    return ans;
}
```

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_90FixedSlidingWindows_2MontonicQueue_1__att_0002.png)

these 4 elements are inserted normally int the deque (their indices)

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_90FixedSlidingWindows_2MontonicQueue_1__att_0003.png)

once 45 come it will kick 40, 30, 20 and get itself pushed in the end

![image.png](/transfernew/notebook_images/transfernew_ADCLCHJC_1Algorithms_90FixedSlidingWindows_2MontonicQueue_1__att_0004.png)
{% endraw %}
