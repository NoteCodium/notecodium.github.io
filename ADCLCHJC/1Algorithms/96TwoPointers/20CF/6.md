https://codeforces.com/edu/course/2/lesson/9/3/practice/contest/307094/problem/G


![image.png](6_images/image.png)


![image.png](6_images/image.png)
rudeness is 1


![image.png](6_images/image.png)


![image.png](6_images/image.png)


in the end we can add any character, but rudeness will not change


![image.png](6_images/image.png)


in the end we can add a, but rudeness will not change, as there is no b later to pair it up


only a new b in the end can change the rudeness


![image.png](6_images/image.png)


rudeness increase by numbers of a


```python
void solve(){
    ll n,c;
    inp(n,c);
    sinp(s);

    ll cntA=0,cntB=0;
    ll rudeness=0;
    ll ans=0;
    ll l=0,h=0;
    while(h<n){
        if(s[h]=='b'){
            cntB++;
        }
        if(s[h]=='a'){
            cntA++;
        }

        if(s[h]=='b'){
            rudeness+=cntA;
        }

        while(l<h and rudeness>c){
            if(s[l]=='a'){
                cntA--;
  
            }
            if(s[l]=='b'){
                cntB--;
            }

            if(s[l]=='a'){
              rudeness-=cntB;
            }

            l++;
        }
        if(rudeness<=c and l<=h){
            ans=max(ans,h-l+1);
        }
        h++;
    }
    print(ans);
    
}
```

![image.png](6_images/image.png)


https://codeforces.com/edu/course/2/lesson/9/3/practice/contest/307094/problem/F

